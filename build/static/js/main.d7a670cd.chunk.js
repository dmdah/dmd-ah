(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/kakao.d7a92a48.png"},function(e,t,n){e.exports=n.p+"static/media/watcha.5363f94d.png"},function(e,t,n){e.exports=n.p+"static/media/starbucks.d08e3832.png"},function(e,t,n){e.exports=n.p+"static/media/socar.ba1263f6.png"},function(e,t,n){e.exports=n.p+"static/media/cgv.528dc63c.png"},function(e,t,n){e.exports=n.p+"static/media/eleven.deff3656.png"},function(e,t,n){e.exports=n(26)},,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(10),o=n.n(i),c=(n(23),n(1)),s=n.n(c),l=n(3),d=n(4),u=n(5),m=n(7),p=n(6),v=n(8),E=(n(25),{getAddress:function(){return new Promise(function(e){window.addEventListener("ICONEX_RELAY_RESPONSE",function t(n){var a=n.detail,r=a.type,i=a.payload;"RESPONSE_ADDRESS"===r&&e(i),window.removeEventListener("ICONEX_RELAY_RESPONSE",t)}),window.dispatchEvent(new CustomEvent("ICONEX_RELAY_REQUEST",{detail:{type:"REQUEST_ADDRESS"}}))})},sendTransaction:function(e){return new Promise(function(t){window.addEventListener("ICONEX_RELAY_RESPONSE",function e(n){var a=n.detail,r=a.type,i=a.payload;"RESPONSE_JSON-RPC"===r&&t(i.result),window.removeEventListener("ICONEX_RELAY_RESPONSE",e)}),window.dispatchEvent(new CustomEvent("ICONEX_RELAY_REQUEST",{detail:{type:"REQUEST_JSON-RPC",payload:e}}))})}}),f=n(2),h=n.n(f),w={PROVIDER_URL:"https://bicon.net.solidwallet.io/api/v3",NID:"0x3",CONTRACT_ADDRESS:"cx9e468b70a8ee160d48b2cdff20ea7eafbbc743f1"},b=new f.HttpProvider(w.PROVIDER_URL),g=new h.a(b),S=f.IconBuilder.CallBuilder,N=f.IconBuilder.CallTransactionBuilder,C={iconService:g,callBuild:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.from,n=e.methodName,a=e.to,r=e.params,i=void 0===r?{}:r;return(new S).from(t).to(a).method(n).params(i).build()},sendTxBuild:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.from,n=e.to,a=e.methodName,r=e.params,i=void 0===r?{}:r,o=e.networkId,c=void 0===o?w.NID:o,s=e.stepLimit,l=void 0===s?"0x493e0":s,d=e.value,u=void 0===d?"0x0":d;return{jsonrpc:"2.0",method:"icx_sendTransaction",params:(new N).nid(c).from(t).to(n).stepLimit(l).value(u).timestamp("0x".concat((1e3*(new Date).getTime()).toString(16))).method(a).params(i).version("0x3").build(),id:1}}},O=n(11),k=n.n(O),y=n(12),R=n.n(y),x=n(13),_=n.n(x),A=n(14),P=n.n(A),T=n(15),B=n.n(T),I=n(16),L=n.n(I);var D=function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e}([{title:"\uce74\uce74\uc624\ud504\ub80c\uc988 \uc774\ubaa8\ud2f0\ucf58 30\uac1c!",color:"#FFE812",img:k.a,id:0,endBlock:165e4,winnerCnt:5},{title:"7ELEVEN \ub9cc\uc6d0 \uc0c1\ud488\uad8c GET!",color:"#f6c3ab",img:L.a,id:1,endBlock:15e5,winnerCnt:4},{title:"Starbucks \ud140\ube14\ub7ec \uac00\uc838\uac00\uc694~",color:"#08f26e",img:_.a,id:2,endBlock:14e5,winnerCnt:3},{title:"Watcha \uc120\uc815 \uba5c\ub85c\uc601\ud654 10\uc120 \uc2dc\uc0ac\ud68c\uc5d0 \ucd08\ub300\ud569\ub2c8\ub2e4.",color:"#f2cccc",img:R.a,id:3,endBlock:2e6,winnerCnt:10},{title:"\uc3d8\uce74 1\uc77c \uc790\uc720\uc774\uc6a9\uad8c \ub4dc\ub824\uc694~",color:"#e8ffff",img:P.a,id:4,endBlock:15e5,winnerCnt:20},{title:"CGV\uc5d0\uc11c \uacf5\uc9dc \ud31d\ucf58 \uba39\uc790!",color:"#e1e1e1",img:B.a,id:5,endBlock:12e5,winnerCnt:200}]),j=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showParticipants:!1,participants:[]},n.toggleParticipants=function(){var e=Object(l.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({showParticipants:!n.state.showParticipants});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark(function e(){var t,n,a,r,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.event,n=C.iconService,a=C.callBuild,e.next=4,n.call(a({methodName:"get_participants",params:{event_label:f.IconConverter.toHex(t.id)},to:w.CONTRACT_ADDRESS})).execute();case 4:r=e.sent,i=r?r.split(",").splice(0,r.split(",").length-1):[],this.setState({participants:i});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.showParticipants,n=e.participants;console.log(n);var a=this.props,i=a.event,o=a.handleSubmit;return r.a.createElement("div",{className:"card"},t?r.a.createElement("div",{className:"bg",style:{background:i.color,overflow:"auto"}},r.a.createElement("ul",{style:{listStyle:"none",margin:0,padding:0,fontSize:"10px",lineHeight:"180%"}},n.length>0?n.map(function(e,t){return r.a.createElement("li",null,e)}):r.a.createElement("li",null,"\uc544\uc9c1 \uc751\ubaa8\uc790\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."))):r.a.createElement("div",{className:"bg",style:{background:i.color}},r.a.createElement("div",{className:"imgWrap"},r.a.createElement("img",{src:i.img,alt:i.title})),r.a.createElement("p",null,"\uc751\ubaa8\uae30\ud55c - ",i.endBlock," \ube14\ub85d"),r.a.createElement("p",null,"\ub2f9\ucca8\uc790\uc218 - ",i.winnerCnt," \uba85")),r.a.createElement("div",{className:"control"},r.a.createElement("h2",{className:"title"},i.title),r.a.createElement("button",{onClick:o(i.id),className:"button",style:{background:i.color}},"\uc751\ubb50\ud558\uae30"),r.a.createElement("button",{onClick:this.toggleParticipants,className:"button",style:{background:i.color}},t?"\uc815\ubcf4 \ubcf4\uae30":"\uc751\ubaa8\uc790 \ubcf4\uae30")))}}]),t}(a.Component),U=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={myAddress:""},n.handleLogin=Object(l.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getAddress();case 2:t=e.sent,n.setState({myAddress:t});case 4:case"end":return e.stop()}},e)})),n.handleSubmit=function(e){return function(){var t=Object(l.a)(s.a.mark(function t(a){var r,i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.state.myAddress){t.next=3;break}return alert("\uba3c\uc800 \ub85c\uadf8\uc778\ud574\uc8fc\uc138\uc694."),t.abrupt("return");case 3:return t.prev=3,r=C.sendTxBuild,i=n.state.myAddress,o=r({from:i,to:w.CONTRACT_ADDRESS,methodName:"subscribe_event",params:{event_label:f.IconConverter.toHex(e)}}),t.next=9,E.sendTransaction(o);case 9:t.sent,alert("\uc751\ubaa8\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),alert("\uc624\ub958\ub85c \uc778\ud574 \uc751\ubaa8\ud558\uc9c0 \ubabb\ud558\uc600\uc2b5\ub2c8\ub2e4.");case 16:case"end":return t.stop()}},t,null,[[3,13]])}));return function(e){return t.apply(this,arguments)}}()},n}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.myAddress;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"\uc751? \ubb50!"),t?r.a.createElement("button",{style:{width:400},disabled:!0},t," \ub2d8, \uc548\ub155\ud558\uc138\uc694."):r.a.createElement("button",{onClick:this.handleLogin},"ICONex \ub85c\uadf8\uc778\ud558\uae30")),r.a.createElement("div",{className:"container"},D.map(function(t,n){return r.a.createElement(j,{key:n,event:t,handleSubmit:e.handleSubmit,handleViewSubscriber:e.handleViewSubscriber})})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[17,1,2]]]);
//# sourceMappingURL=main.d7a670cd.chunk.js.map